<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>품목 관리</title>

</head>

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<style>
    .clickable {
        cursor: pointer;
    }
</style>

<body>

<main class="container my-2">
    <div class="container-fluid">
        <div class="text-center">
            <h2 class="my-4">품목</h2>
            <form action="#!" method="get">
                <div class="row align-items-center mb-3">
                    <div class="col-lg-2 my-1">
                        <select class="form-select" name="category" id="category">
                            <option value="0">전체</option>
                            <option value="1">품목코드</option>
                            <option value="2">품목명</option>
                        </select>
                    </div>
                    <div class="col-lg-4 my-1">
                        <div class="input-group w-100">
                            <input type="text" class="form-control" name="search" id="search" placeholder="검색어를 입력해주세요"/>
                            <button class="btn btn-success" type="submit">검색</button>
                        </div>
                    </div>
                    <div class="col-lg-6 my-1 text-end">
                        <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#modal">추가</button>
                    </div>
                </div>
            </form>
        </div>

        <!-- 재고 목록 테이블 -->
        <div class="container my-3">
            <table class="table table-striped table-bordered">
                <thead class="table-dark">
                <tr class="text-center">
                    <th>품목 코드</th>
                    <th>품목명</th>
                    <th>재고 수량</th>
                    <th>단가</th>
                </tr>
                </thead>
                <tbody id="product-list">
                <tr class="clickable" onclick="detailPage()">
                    <td class="prod-itemCode text-center">12345</td>
                    <td class="prod-name">샘플 품목</td>
                    <td class="prod-qty text-center">100</td>
                    <td class="prod-price text-center">5000</td>
                </tr>
                </tbody>
            </table>
            <div>
                <a href="/index.html" class="btn btn-outline-success flex-fill">index page</a>
            </div>
        </div>
    </div>
</main>

            <!-- 모달 -->
        <div id="modal" class="modal fade" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">새 품목 추가</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form action="#!" method="POST">
                            <table class="table table-striped table-bordered">
                                <thead class="table-dark">
                                    <tr class="text-center">
                                        <th>품목명</th>
                                        <th>재고 수량</th>
                                        <th>단가</th>
                                    </tr>
                                </thead>
                                <tbody id="modal-product-list">
                                    <tr class="text-center">
                                        <td><input type="text" class="prod-name form-control" /></td>
                                        <td><input type="text" class="prod-qty form-control" /></td>
                                        <td><input type="text" class="prod-price form-control" /></td>
                                    </tr>
                                </tbody>
                            </table>
                            <button type="button" class="btn btn-success flex-fill" id="add-row-btn">행 추가</button>
                            <button type="button" class="btn btn-danger flex-fill" id="delete-row-btn">행 삭제</button>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-success">저장</button>
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">취소</button>
                    </div>
                </div>
            </div>
        </div>

        <script>
            function detailPage() {
                window.location.href = "./prodDetail.html";
            }

            // 행 추가 함수
            document.getElementById('add-row-btn').addEventListener('click', function() {
                const modalProductList = document.getElementById('modal-product-list');
                
                // 새로운 행 생성
                const newRow = document.createElement('tr');
                newRow.classList.add('text-center');
                
                // 새로운 셀 추가
                newRow.innerHTML = `
                    <td><input type="text" class="prod-name form-control" /></td>
                    <td><input type="text" class="prod-qty form-control" /></td>
                    <td><input type="text" class="prod-price form-control" /></td>
                `;
                
                // 테이블에 새로운 행 추가
                modalProductList.appendChild(newRow);
            });

            // 행 삭제 함수
            document.getElementById('delete-row-btn').addEventListener('click', function() {
                const modalProductList = document.getElementById('modal-product-list');
                
                // 마지막 행 삭제
                const rows = modalProductList.getElementsByTagName('tr');
                if (rows.length > 1) {
                    modalProductList.removeChild(rows[rows.length - 1]);
                }
            });
        </script>
    </main>

</body>
</html>
